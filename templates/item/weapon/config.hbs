{{! Weapon Details and Config tab }}

<section class="tab {{tab.cssClass}}" data-group="primary" data-tab="config">
  <div class="item-info-config">
    <div class="item-info-block item-name-block">
      <h5>{{localize "PC.weaponName"}}</h5>
      <input
        name="name"
        type="text"
        value="{{item.name}}"
        placeholder="Nameless Weapon"
      /></div>
    <div class="item-info-block">
      <h5>{{localize "PC.subtype"}}</h5>
      <select name="system.info.subtype">
        {{selectOptions
          config.weapon.subtypes
          selected=system.info.subtype
          localize=true
        }}
      </select>
    </div>
    <div class="item-info-block">
      <h5>{{localize "PC.group"}}</h5>
      <select name="system.info.group">
        {{selectOptions
          (lookup (lookup config.weapon.subtypes system.info.subtype) "groups")
          selected=system.info.group
          localize=true
        }}
      </select>
    </div>
    <div class="item-info-block">
      <h5>{{localize "PC.subgroup"}}</h5>
      <input
        name="system.info.subgroup"
        type="String"
        value="{{system.info.subgroup}}"
        data-dtype="String"
      />
    </div>
  </div>

  <div>
    {{localize "PC.equippable"}}
    <input
      type="checkbox"
      data-dtype="Boolean"
      name="system.details.equippable"
      {{checked system.details.equippable}}
    />
  </div>
  <div>
    {{localize "PC.equipped"}}
    <input
      type="checkbox"
      data-dtype="Boolean"
      name="system.details.equipped"
      {{checked system.details.equipped}}
    />
  </div>
  <div>
    {{localize "PC.stackable"}}
    <input
      type="checkbox"
      data-dtype="Boolean"
      name="system.details.stackable"
      {{checked system.details.stackable}}
    />
  </div>

  <div>
    <h4>{{localize "PC.keywords"}}</h4>
    <a data-action="addKeyword" data-type="weapon"><i
        class="fa-regular fa-plus"
      ></i>
    </a>
    {{#each system.keywords as |keyword obj|}}
      <div class="flexrow">
        <div>
          {{localize (concat "PC.keyword." obj)}}{{#if keyword}}
            ({{keyword}}){{/if}}
        </div>
        <input
          name="system.keywords.{{@key}}"
          value="{{keyword}}"
          data-dtype="String"
          type="String"
        />
        <a data-action="cutKeyword" data-keyword="{{@key}}">
          <i class="fa-regular fa-trash-can"></i></a>
      </div>
    {{/each}}
  </div>

  <div class="flexrow">
    {{#if system.details.stackable}}
      {{localize "PC.load"}}
      {{system.details.load}}
      {{localize "PC.stack"}}
      <input
        name="system.details.stack"
        type="Number"
        value="{{system.details.stack}}"
        data-dtype="Number"
      />
    {{else}}
      {{localize "PC.load"}}
      <input
        name="system.details.load"
        type="Number"
        value="{{system.details.load}}"
        data-dtype="Number"
      />
      {{localize "PC.stack"}}
      {{system.details.stack}}
    {{/if}}
  </div>

  <div class="flexrow">
    <h4>{{localize "PC.price"}}</h4>
    {{#unless
      (or
        (eq system.cost.currency "unknown")
        (eq system.cost.currency "priceless")
      )
    }}
      <input
        name="system.cost.price"
        type="Number"
        value="{{system.cost.price}}"
        data-dtype="Number"
      />
    {{/unless}}
    <select name="system.cost.currency">
      {{selectOptions
        config.currency
        selected=system.cost.currency
        localize=true
      }}
    </select>
  </div>
</section>