{{! Skill tab }}

<section class="tab {{tab.cssClass}}" data-group="primary" data-tab="skills">
  <div class="skill-tab">
    {{#each config.categories as |category objs|}}
      <ul class="skill-category">
        <h5 class="category-title">
          {{localize category.label}}
          <span>{{localize "PC.level.abv"}}</span>
          <span>{{localize "PC.modifier.abv"}}</span>
          <input
            class="category-modifier"
            name="system.categoryModifiers.{{@key}}"
            type="String"
            value="{{numberFormat
              (lookup @root.actor.system.categoryModifiers objs)
              sign=true
            }}"
            data-dtype="Number"
          />
        </h5>
        {{#each (lookup @root.config objs) as |sk obj|}}
          {{#with (lookup @root.actor.system.skills obj) as |skill|}}
            <li class="skill skill-line">
              <a
                data-action="clickSkill"
                data-skill="{{@key}}"
                data-type="skills"
              >
                {{localize sk.label}}{{#if skill.favorable}}!{{/if}}{{#if
                  skill.favored
                }}!{{/if}}
              </a>
              <span>{{skill.xpSpent}}</span>
              {{#if (gte skill.learning 2)}}
                <div class="skill-hard">
                  <span>
                    {{localize
                      (concat "PC.attributes." skill.attribute ".abv")
                    }}{{#if (gte skill.growth 2)}}/{{skill.growth}}{{/if}}
                  </span>
                  <span>
                    {{localize "PC.learning.hard"}}
                  </span>
                </div>
              {{else}}
                <span>
                  {{localize
                    (concat "PC.attributes." skill.attribute ".abv")
                  }}{{#if (gte skill.growth 2)}}/{{skill.growth}}{{/if}}
                </span>
              {{/if}}
              <input
                class="skill-level"
                name="system.skills.{{@key}}.level"
                type="Number"
                value="{{skill.level}}"
                data-dtype="Number"
              />
              <input
                class="skill-mod"
                type="String"
                name="system.skills.{{@key}}.mod"
                value="{{numberFormat skill.mod sign=true}}"
                data-dtype="Number"
              />
            </li>
          {{/with}}
        {{/each}}
      </ul>
    {{/each}}
  </div>
</section>